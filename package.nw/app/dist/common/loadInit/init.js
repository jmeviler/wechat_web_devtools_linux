"use strict";var _exports;module.exports=function(){var e=require("../../config/urlConfig.js"),r=require("../request/request.js"),i=require("../log/log.js"),n=require("../../utils/newReport.js"),o=require("../../utils/checkUp.js");if(i.info("init.js loadinit begin"),!global.appConfig.isDev){var t=function(e,r){try{var o=r.filename,t=r.error.stack;i.error("filename: "+o+", msg: "+t),n(e,"","filename: "+o+", msg: "+t)}catch(e){}};window.addEventListener("error",function(e){t("tool_error_nw",e)}),global.contentWindow.addEventListener("error",function(e){t("tool_error_web",e)})}var s={type:7,version:global.appVersion};r({method:"post",url:e.LOADCONFIG_URL,body:JSON.stringify(s),needToken:-1},function(e,r,n){if(e)i.info("init.js loadinit error: "+JSON.stringify(e));else{i.info("init.js loadinit end: "+n);var t=JSON.parse(n),s=t.cgi_list,l={};s.forEach(function(e){l[e.name]=e.url}),localStorage.setItem("urlConfig",JSON.stringify(l));var a=t.client_list,f={};a.forEach(function(e){f[e.key]=e.value}),o(f)}})};