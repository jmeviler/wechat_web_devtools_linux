"use strict";function init(){function t(t){var o=s.getGeoSetting();return o.checked?void t(null,{statusCode:200},JSON.stringify({status:0,result:{location:{lat:o.latitude,lng:o.longitude}},from:"Setting"})):p&&g?void t(null,{statusCode:200},JSON.stringify({status:0,result:{location:{lat:p,lng:g}}})):void r({url:u+"?key="+a,needToken:-1},t)}function o(o,e){t(function(t,o,i){var r={};t||200!==o.statusCode||(i=JSON.parse(i),0==i.status&&("Setting"!==i.from&&(p=i.result.location.lat,g=i.result.location.lng),r={latitude:i.result.location.lat,longitude:i.result.location.lng},r.errMsg="getLocation:ok")),r.errMsg||(r.errMsg="getLocation:fail timeout"),e(r)})}function e(t,o){var e=t.args,i=e.latitude,r=e.longitude,s="marker=coord:"+i+","+r;s+=";title:"+encodeURIComponent(e.name||" "),s+=";addr:"+encodeURIComponent(e.address||" "),t.url=c+"?type=0&"+s+"&key="+a+"&referer="+l,n.sendASSDK("openLocation",t,o)}function i(o,e){t(function(t,i,r){if(!t&&200===i.statusCode&&(r=JSON.parse(r),0==r.status)){var s=r.result.location.lat,u=r.result.location.lng;return o.url=d+"?search=1&type=1&coord="+s+","+u+"&key="+a+"&referer="+l,void n.sendASSDK("chooseLocation",o,e)}e({errMsg:"chooseLocation:fail timeout"})})}var r=require("../request/request.js"),n=require("../../actions/webviewActions.js"),s=require("../../stores/webviewStores.js"),a="JMRBZ-R4HCD-X674O-PXLN4-B7CLH-42BSB",l="wxdevtools",u="http://apis.map.qq.com/ws/location/v1/ip",c="http://apis.map.qq.com/tools/poimarker",d="http://apis.map.qq.com/tools/locpicker",p=void 0,g=void 0;_exports={getLocation:o,openLocation:e,chooseLocation:i}}var _exports;init(),module.exports=_exports;