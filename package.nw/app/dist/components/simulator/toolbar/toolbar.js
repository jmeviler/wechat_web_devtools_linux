"use strict";function init(){var e=require("../../../lib/react.js"),t=require("../../../cssStr/cssStr.js"),s=require("./devicemodules.js"),o=require("./network.js"),i=require("./more.js"),r=(require("./input.js"),require("../../../stores/windowStores.js")),a=require("../../../actions/windowActions.js"),l=require("../../../stores/projectStores.js"),n=(require("../../../stores/webviewStores.js"),"toolstabs"),c=e.createClass({displayName:"ToolBar",getInitialState:function(){return{showItems:!1,showMask:!1}},_clickToolsbar:function(e){n!=e&&this.setState({showItems:!1})},componentDidMount:function(){r.on("CLICK_TOOLSBAR",this._clickToolsbar)},componentWillUnmount:function(){r.removeListener("CLICK_TOOLSBAR",this._clickToolsbar)},showItems:function e(t){t.stopPropagation();var e=!this.state.showItems;if(e)for(var s in this.props.list)this.props.getSimulatorActions("S_SET_ACTION",parseInt(s),{act:"CAPTURE"});this.setState({showItems:e}),a.clickToolsbar(n)},clickItems:function(e){e.stopPropagation();var t=e.currentTarget,s=t.dataset,o=parseInt(s.webviewid);this.setState({webviewID:o}),this.props.getSimulatorActions("S_CHANGE_CURRENT_WEBVIEW",null,{webviewID:o})},onWebviewEditClick:function(){var e=this.props.project;l.setProjectEditWebview(e.hash,!e.editWebview)},render:function(){var r=this.props,a=r.list,l=r.show,n=(r.project,this.props.currentWebviewID),c=Object.keys(a).length,m=c>1?{}:t.displayNone,u=this.state.showMask?{}:t.displayNone,p=[];for(var h in a){var b="simulator-toolbar-tabs-item "+(h==n?" simulator-toolbar-tabs-item-current":"");p.push(e.createElement("div",{onClick:this.clickItems,className:b,"data-webviewid":h,key:h},e.createElement("img",{src:a[h].dataURI})))}var d=this.state.showItems?{}:t.displayNone,w="edit"===l?{}:t.displayNone;return e.createElement("div",{className:"simulator-toolbar-innerWrapper"},e.createElement("div",{className:"simulator-toolbar"},e.createElement("div",{onClick:this.onWebviewEditClick,style:w,className:"simulator-toolbar-toggle"},e.createElement("i",{className:"simulator-toolbar-toggle-icon"})),e.createElement(s,{getSimulatorActions:this.props.getSimulatorActions}),e.createElement(o,null),e.createElement(i,null),e.createElement("div",{onClick:this.showItems,className:"simulator-toolbar-tabs",style:m},e.createElement("p",null,"正在调试",c,"个页面"),e.createElement("i",{className:"simulator-toolbar-model-icon-down"}),e.createElement("div",{className:"simulator-toolbar-tabs-content",style:d},p)),e.createElement("div",{style:u,className:"simulator-toolbar-mask"})))}});_exports=c}var _exports;init(),module.exports=_exports;