"use strict";function init(){var t=require("../../../lib/react.js"),e=require("../../../cssStr/cssStr.js"),s=require("./devicemodules.js"),o=require("./network.js"),i=require("../../../stores/windowStores.js"),r=require("../../../actions/windowActions.js"),a=require("../../../stores/projectStores.js"),l="toolstabs",n=t.createClass({displayName:"ToolBar",getInitialState:function(){return{showItems:!1,showMask:!1}},_clickToolsbar:function(t){l!=t&&this.setState({showItems:!1})},componentDidMount:function(){i.on("CLICK_TOOLSBAR",this._clickToolsbar)},componentWillUnmount:function(){i.removeListener("CLICK_TOOLSBAR",this._clickToolsbar)},showItems:function t(e){e.stopPropagation();var t=!this.state.showItems;if(t)for(var s in this.props.list)this.props.getSimulatorActions("S_SET_ACTION",parseInt(s),{act:"CAPTURE"});this.setState({showItems:t}),r.clickToolsbar(l)},clickItems:function(t){t.stopPropagation();var e=t.currentTarget,s=e.dataset,o=parseInt(s.webviewid);this.setState({webviewID:o}),this.props.getSimulatorActions("S_CHANGE_CURRENT_WEBVIEW",null,{webviewID:o})},onWebviewEditClick:function(){var t=this.props.project;a.setProjectEditWebview(t.hash,!t.editWebview)},render:function(){var i=this.props,r=i.list,a=i.show,l=(i.project,this.props.currentWebviewID),n=Object.keys(r).length,c=n>1?{}:e.displayNone,m=this.state.showMask?{}:e.displayNone,u=[];for(var p in r){var h="simulator-toolbar-tabs-item "+(p==l?" simulator-toolbar-tabs-item-current":"");u.push(t.createElement("div",{onClick:this.clickItems,className:h,"data-webviewid":p,key:p},t.createElement("img",{src:r[p].dataURI})))}var d=this.state.showItems?{}:e.displayNone,b="edit"===a?{}:e.displayNone;return t.createElement("div",{className:"simulator-toolbar"},t.createElement("div",{onClick:this.onWebviewEditClick,style:b,className:"simulator-toolbar-toggle"},t.createElement("i",{className:"simulator-toolbar-toggle-icon"})),t.createElement(s,{getSimulatorActions:this.props.getSimulatorActions}),t.createElement(o,null),t.createElement("div",{onClick:this.showItems,className:"simulator-toolbar-tabs",style:c},t.createElement("p",null,"正在调试",n,"个页面"),t.createElement("i",{className:"simulator-toolbar-model-icon-down"}),t.createElement("div",{className:"simulator-toolbar-tabs-content",style:d},u)),t.createElement("div",{style:m,className:"simulator-toolbar-mask"}))}});_exports=n}var _exports;init(),module.exports=_exports;