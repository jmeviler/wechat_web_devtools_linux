"use strict";function init(){var t=require("../../../lib/react.js"),e=(require("../../../lib/react-dom.js"),require("../../../stores/windowStores.js")),n=require("../../../cssStr/cssStr.js"),l=t.createClass({displayName:"Confirm",getInitialState:function(){return{title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#3CC51F",cancelColor:"#000000",contentColor:"#888",hidden:!0,subList:[],lazyLoaded:!1}},componentDidMount:function(){e.on("WINDOW_SHOW_SIMULATOR_CONFIRM",this._onShowConfirm)},componentWillUnmount:function(){e.removeListener("WINDOW_SHOW_SIMULATOR_CONFIRM",this._onShowConfirm)},_onShowConfirm:function(t){if(t){this._callback=t.callback;var e="string"==typeof t.title?t.title:"",n="string"==typeof t.content?t.content:"",l=t.subList||[],a=t.confirmText||this.state.confirmText,i=t.cancelText||this.state.cancelText,o=t.contentColor||this.state.contentColor;this.setState({title:e,content:n,subList:l,confirmText:a,cancelText:i,contentColor:o,showCancel:"alert"!==t.type,hidden:!1,lazyLoaded:!0})}},callback:function(t){"function"==typeof this._callback&&this._callback(t)},handleCancelClick:function(){this.hide(),this.callback(!1)},handleConfrimClick:function(){this.hide(),this.callback(!0)},hide:function(){this.setState({hidden:!0})},render:function(){if(!this.state.lazyLoaded)return null;var e=this.state.subList.length>0?{}:n.displayNone,l=this.state.subList.map(function(e){return t.createElement("li",null," ",e," ")});return t.createElement("div",{className:"wx-modal",style:{display:this.state.hidden?"none":"block"}},t.createElement("div",{className:"wx-modal-mask"}),t.createElement("div",{className:"wx-modal-dialog"},t.createElement("div",{className:"wx-modal-dialog-hd"},t.createElement("strong",null,this.state.title)),t.createElement("div",{className:"wx-modal-dialog-bd"},t.createElement("div",{style:{color:this.state.contentColor}},this.state.content),t.createElement("ul",{style:e},l)),t.createElement("div",{className:"wx-modal-dialog-ft"},t.createElement("a",{className:"wx-modal-btn-default",style:{color:this.state.cancelColor,display:this.state.showCancel?"":"none"},onClick:this.handleCancelClick},this.state.cancelText),t.createElement("a",{className:"wx-modal-btn-primary",style:{color:this.state.confirmColor},onClick:this.handleConfrimClick},this.state.confirmText))))}});_exports=l}var _exports;init(),module.exports=_exports;