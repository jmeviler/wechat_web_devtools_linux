"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),a=(require("../../actions/projectActions.js"),require("../../stores/projectStores.js")),i=e.createClass({displayName:"DetailConfig",getInitialState:function(){var e=a.getProjectConfig(this.props.project)||{},t=e.Network||{};return{lazyLoaded:!1,requestDomains:t.RequestDomain||[],socketDomains:t.WsRequestDomain||[],uploadDomains:t.UploadDomain||[],downloadDomains:t.DownloadDomain||[],loading:!1}},componentWillReceiveProps:function(e){e.show&&this.setState({lazyLoaded:!0})},componentDidMount:function(){a.on("PROJECT_CONFIG_REFRESHED",this._onConfigRefreshed),a.on("PROJECT_EXT_APPID_CHANGED",this._refreshConfig)},componentWillUnmount:function(){a.removeListener("PROJECT_CONFIG_REFRESHED",this._onConfigRefreshed),a.removeListener("PROJECT_EXT_APPID_CHANGED",this._refreshConfig)},_refreshConfig:function(){this.setState({loading:!0}),a.setProjectConfig(this.props.project,function(){})},_onConfigRefreshed:function(e){var t=e&&e.Network||{};this.setState({requestDomains:t.RequestDomain||[],socketDomains:t.WsRequestDomain||[],uploadDomains:t.UploadDomain||[],downloadDomains:t.DownloadDomain||[],loading:!1})},shouldComponentUpdate:function(e,t){return e.project!==this.props.project||e.show!==this.props.show||t!==this.state},render:function(){if(!this.state.lazyLoaded)return null;var a="detail-meta-upload "+(this.state.loading?"detail-upload-dialog-button-primary-loading":"");return e.createElement("div",{style:this.props.show?{}:t.displayNone},e.createElement("div",{className:"detail-meta-tab-bd"},e.createElement("div",{className:"detail-meta-wrapper"},e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"request合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.requestDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"socket合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.socketDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"uploadFile合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.uploadDomains.map(function(t){return e.createElement("p",null,t)}))),e.createElement("div",{className:"detail-meta"},e.createElement("p",{className:"detail-meta-label detail-meta-label-fixed-width"},"downloadFile合法域名"),e.createElement("div",{className:"detail-meta-value"},this.state.downloadDomains.map(function(t){return e.createElement("p",null,t)}))))),e.createElement("div",{className:"detail-opr-wrapper"},e.createElement("a",{href:"javascript:;",className:a,onClick:this._refreshConfig},"刷新")))}});_exports=i}var _exports;init(),module.exports=_exports;