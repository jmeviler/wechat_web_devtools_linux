"use strict";function init(){function e(i,a,c){var s=i.files,l=i.reg,u=i.project;if(0===s.length)return void c(null,a);var p=s.shift(),f=1,d=n.extname(p);if(o[d]){var v=n.relative(u.projectpath,p),g=v.replace(/\\/g,"/"),x=t.createReadStream(p,{encoding:"utf8"}),h=r.createInterface({input:x});h.on("line",function(e){var r=e.match(l);r&&(a[g]||(a[g]=[]),a[g].push({line:f,data:e})),f++}),h.on("close",function(){e(i,a,c)})}else e(i,a,c)}var r=require("readline"),t=require("fs"),i=require("glob"),n=require("path"),o={".js":!0,".json":!0,".wxml":!0,".wxss":!0,".html":!0,".css":!0,".md":!0,".txt":!0};_exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=r.cwd,o=r.wholeword,a=r.i,c=r.str,s=r.project,l={};i(n+"/**/*",{nodir:!0},function(r,i){if(r)return void t(r);var n=c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");o&&(n="\\b"+n+"\\b"),n=a?new RegExp(n,"i"):new RegExp(n),e({files:i,reg:n,project:s},l,t)})}}var _exports;init(),module.exports=_exports;