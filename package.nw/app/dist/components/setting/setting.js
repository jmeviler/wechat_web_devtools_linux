"use strict";function init(){var e=require("../../lib/react.js"),t=require("./common/categorySidebar.js"),r=require("./common/settingFooter.js"),s=(require("./categories/projectSetting.js"),require("./categories/editorSetting.js")),i=require("./categories/proxySetting.js"),n=require("./categories/notifySetting.js"),o=(require("../../cssStr/cssStr.js"),require("../../config/config.js"),require("../../utils/editorConfigurable.js")),a=(o.Configurable,o.ConfigurableDefaults,require("../../stores/windowStores.js"),require("../../actions/windowActions.js"),require("../../actions/webviewActions.js"),require("../../common/request/request.js"),e.createClass({displayName:"Setting",getInitialState:function(){this.settings={},this.category=this.props.category;var e=this.props.enables[this.category.editor]?this.category.editor:this.category.proxy;return this.prevInSelectProject=this.props.inSelectProject,{currentCategory:e}},componentWillReceiveProps:function(e){this.prevInSelectProject!==e.inSelectProject&&(this.prevInSelectProject=e.inSelectProject,this.props.enables[this.category.editor]&&this.setState({currentCategory:this.category.proxy}))},render:function(){var o=this,a=!0;this.props.show||(a=!1);var c=this.props.enables[this.category.editor],g=this.props.enables[this.category.proxy],l=this.props.enables[this.category.notify];return e.createElement("section",{className:"setting-container",style:a?{}:{display:"none"}},e.createElement("div",{className:"setting-main"},e.createElement("div",{className:"setting-main-icon",style:{display:"none"}},e.createElement("i",{className:"fa fa-cog fa-lg setting-sidebar-ul","aria-hidden":"true"})),e.createElement("div",{className:"setting-body"},e.createElement("div",{className:"setting-sidebar"},e.createElement(t,{categoryEnum:this.category,changeCurrentCategory:this.changeCurrentCategory.bind(this),currentCategory:this.state.currentCategory,project:this.props.project,proxyEnabled:g,editorEnabled:c,notifyEnabled:l})),e.createElement("div",{className:"vertical-line"}),e.createElement("div",{className:"setting-content"},e.createElement(s,{ref:function(e){return o.settings.editor=e},show:c&&this.state.currentCategory===this.category.editor,setCursorLoading:this.props.setCursorLoading}),e.createElement(i,{ref:function(e){return o.settings.proxy=e},show:g&&this.state.currentCategory===this.category.proxy}),e.createElement(n,{ref:function(e){return o.settings.notify=e},show:l&&this.state.currentCategory===this.category.notify}))),e.createElement(r,{save:this.save.bind(this),cancel:this.cancel.bind(this),restoreDefault:this.restoreDefault.bind(this)})))},changeCurrentCategory:function(e){e!==this.state.currentCategory&&this.setState({currentCategory:e})},save:function(){for(var e in this.settings)this.settings[e]&&this.settings[e].save();this.props.toggleShow()},cancel:function(){for(var e in this.settings)this.settings[e]&&this.settings[e].cancel();this.props.toggleShow()},restoreDefault:function(){for(var e in this.settings)this.settings[e]&&this.settings[e].restoreDefault()}}));_exports=a}var _exports;init(),module.exports=_exports;