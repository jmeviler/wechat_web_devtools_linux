"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),o=require("../../actions/webviewActions.js"),a=require("../../stores/windowStores.js"),s=require("../../actions/windowActions.js"),c=e.createClass({displayName:"Clearbutton",getInitialState:function(){return{show:!1,showSuc:""}},handleOnClick:function(e){e.stopPropagation();var t=this.state.show;this.setState({show:!t})},buttonClick:function(e){var t=this;e.stopPropagation();var a=e.currentTarget,c=a.dataset,i=c.type,n=function(){t.setState({showSuc:i}),setTimeout(function(){t.setState({showSuc:""})},500)};"cookies"===i?o.clearWebview({cookies:!0,callBack:n}):"cache"===i?o.clearWebview({appcache:!0,cache:!0,fileSystems:!0,indexedDB:!0,localStorage:!0,webSQL:!0,callBack:n}):"historyUrl"===i&&s.clearAddressHistory({callBack:n})},_bodyClick:function(){this.setState({show:!1})},componentDidMount:function(){a.on("BODY_CLICK",this._bodyClick)},componentWillUnmount:function(){a.removeListener("BODY_CLICK",this._bodyClick)},render:function(){var o=this.state.show?{}:t.displayNone,a=this.state.show?"toolbar-clear-icon-up":"toolbar-clear-icon-down",s=this.state.showSuc;return e.createElement("div",{className:"toolbar-clear",onClick:this.handleOnClick},e.createElement("p",null,"清理缓存 ",e.createElement("i",{className:a})),e.createElement("div",{onClick:this.handleOnClick,className:"toolbar-clear-dropdown",style:o},e.createElement("div",{onClick:this.buttonClick,"data-type":"cookies",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除开发者工具cookie"),e.createElement("span",{style:"cookies"===s?{}:t.displayNone},"已清除")),e.createElement("div",{onClick:this.buttonClick,"data-type":"cache",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除开发者工具缓存"),e.createElement("span",{style:"cache"===s?{}:t.displayNone},"已清除")),e.createElement("div",{onClick:this.buttonClick,"data-type":"historyUrl",className:"toolbar-clear-dropdown-item"},e.createElement("p",null,"清除地址栏历史记录"),e.createElement("span",{style:"historyUrl"===s?{}:t.displayNone},"已清除"))))}});_exports=c}var _exports;init(),module.exports=_exports;