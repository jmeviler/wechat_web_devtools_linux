"use strict";function init(){var e=require("../../lib/react.js"),t=require("../../cssStr/cssStr.js"),o=require("../../actions/windowActions.js"),r=require("../../stores/windowStores.js"),s=e.createClass({displayName:"Userinfo",getInitialState:function(){return{show:!1}},clearUserInfo:function(){o.clearUserInfo()},showProfile:function(e){var t=this.state.show;this.setState({show:!t}),e.stopPropagation()},_bodyClick:function(){this.setState({show:!1})},componentDidMount:function(){r.on("BODY_CLICK",this._bodyClick)},componentWillUnmount:function(){r.removeListener("BODY_CLICK",this._bodyClick)},render:function(){var o=this.props.userInfo,r=this.props.project,s=this.state.show?{}:t.displayNone;return e.createElement("div",{onClick:this.showProfile,className:r?"toolbar-avatar":"toolbar-avatar-noproject"},e.createElement("img",{src:o.headUrl}),e.createElement("div",{className:"toolbar-profile",style:s},e.createElement("img",{className:"toolbar-profile-avatar",src:o.headUrl}),e.createElement("h3",{className:"toolbar-profile-nickname"},o.nickName),e.createElement("a",{href:"javascript:;",onClick:this.clearUserInfo,className:"toolbar-profile-button"},"退出")))}});_exports=s}var _exports;init(),module.exports=_exports;