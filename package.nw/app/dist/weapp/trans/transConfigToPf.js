"use strict";function init(){var e=global.appConfig.isDev,r=require("fs"),s=require("path"),i=(require("../utils/tools.js"),require("../../config/config.js"),require("../utils/vendorManager.js")),n=require("../utils/projectManager.js"),t=(require("async"),{}),o=e?{"<!--{{reportSDK}}-->":"reporter-sdk.js","<!--{{webviewSDK}}-->":"webview-sdk.js","<!--{{virtual_dom}}-->":"virtual_dom.js","<!--{{webview_engine}}-->":"webview-engine.js","<!--{{exparser}}-->":"exparser.js","<!--{{components_js}}-->":"wx-components.js","<!--{{components_css}}-->":"wx-components.css","<!--{{hls_js}}-->":"hls.js"}:{"<!--{{WAWebview}}-->":"WAWebview.js","<!--{{hls_js}}-->":"hls.js"};i.on("VENDOR_CHANGE",function(){t={}}),n.manager.on("FILE_CHANGE",function(e,r,s){if("app.wxss"===s){var i=e.hash;delete t[i]}}),_exports=function(n,a,p){var c=(a.url,n.hash);return t[c]?void process.nextTick(function(){var e=t[c];p(e.error,e.data)}):void!function(){var a=s.join(n.projectpath,"app.wxss"),u=r.existsSync(a),l=require("../tpl/pageFrameTpl.js");u&&(l=l.replace("<!--{{style}}-->",function(){return'<script src="/app.wxss"></script>'}));var v={};for(var j in o)v[j]=i.getFile(o[j],n.libVersion);var f=function(e){var r=o[e];l=l.replace(e,function(){return r.indexOf(".js")>0?"<script>"+v[e]+"</script>":r.indexOf(".css")>0?"<style>"+v[e]+"</style>":v.vendor[e]})};for(var w in o)f(w);e||(t[c]={error:null,data:l}),p(null,l)}()}}var _exports;init(),module.exports=_exports;