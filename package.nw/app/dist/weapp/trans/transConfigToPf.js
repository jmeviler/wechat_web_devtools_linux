"use strict";function init(){var e=global.appConfig.isDev,r=require("fs"),s=require("path"),n=(require("../utils/tools.js"),require("../../config/config.js"),require("../utils/vendorManager.js")),i=require("../utils/projectManager.js"),t=(require("async"),{}),o=e?{"<!--{{reportSDK}}-->":"reporter-sdk.js","<!--{{webviewSDK}}-->":"webview-sdk.js","<!--{{virtual_dom}}-->":"virtual_dom.js","<!--{{webview_engine}}-->":"webview-engine.js","<!--{{exparser}}-->":"exparser.js","<!--{{components_js}}-->":"wx-components.js","<!--{{components_css}}-->":"wx-components.css","<!--{{hls_js}}-->":"hls.js"}:{"<!--{{WAWebview}}-->":"WAWebview.js","<!--{{hls_js}}-->":"hls.js"};n.manager.on("VENDOR_CHANGE",function(){t={}}),i.manager.on("FILE_CHANGE",function(e,r,s){if("app.wxss"===s){var n=e.hash;delete t[n]}}),_exports=function(i,a,p){var c=(a.url,i.hash);return t[c]?void process.nextTick(function(){var e=t[c];p(e.error,e.data)}):void!function(){var a=s.join(i.projectpath,"app.wxss"),u=r.existsSync(a),l=require("../tpl/pageFrameTpl.js");u&&(l=l.replace("<!--{{style}}-->",function(){return'<script src="/app.wxss"></script>'}));var v={};for(var j in o)v[j]=n.getFile(o[j]);var f=function(e){var r=o[e];l=l.replace(e,function(){return r.indexOf(".js")>0?"<script>"+v[e]+"</script>":r.indexOf(".css")>0?"<style>"+v[e]+"</style>":v.vendor[e]})};for(var w in o)f(w);e||(t[c]={error:null,data:l}),p(null,l)}()}}var _exports;init(),module.exports=_exports;